{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/crocslut/Desktop/Git/zpc/components/SidebarMenu/SidebarMenuItem.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport uuid from 'uuid/v4';\nimport Link from './../Link';\nimport { MenuContext } from './MenuContext';\n/**\n * Renders a collapse trigger or a ReactRouter Link \n */\n\nvar SidebarMenuItemLink = function SidebarMenuItemLink(props) {\n  return props.to || props.href ? props.to ? React.createElement(Link, {\n    to: props.to,\n    className: \"\".concat(props.classBase, \"__entry__link\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, props.children) : React.createElement(\"a\", {\n    href: props.href,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: \"\".concat(props.classBase, \"__entry__link\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, props.children) : React.createElement(\"a\", {\n    href: \"javascript:;\",\n    className: \"\".concat(props.classBase, \"__entry__link\"),\n    onClick: function onClick() {\n      return props.onToggle();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, props.children);\n};\n\nSidebarMenuItemLink.propTypes = {\n  to: PropTypes.string,\n  href: PropTypes.string,\n  active: PropTypes.bool,\n  onToggle: PropTypes.func,\n  children: PropTypes.node,\n  classBase: PropTypes.string\n  /**\n   * The main menu entry component\n   */\n\n};\nexport var SidebarMenuItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SidebarMenuItem, _React$Component);\n\n  function SidebarMenuItem(props) {\n    var _this;\n\n    _classCallCheck(this, SidebarMenuItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SidebarMenuItem).call(this, props));\n    _this.id = uuid();\n    return _this;\n  }\n\n  _createClass(SidebarMenuItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var entry = {\n        id: this.id,\n        parentId: this.props.parentId,\n        exact: !!this.props.exact\n      };\n\n      if (this.props.to) {\n        entry.url = this.props.to;\n      }\n\n      this.props.addEntry(entry);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.removeEntry(this.id);\n    }\n  }, {\n    key: \"getEntry\",\n    value: function getEntry() {\n      return this.props.entries[this.id];\n    }\n  }, {\n    key: \"toggleNode\",\n    value: function toggleNode() {\n      var entry = this.getEntry();\n      this.props.updateEntry(this.id, {\n        open: !entry.open\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames,\n          _this2 = this;\n\n      var entry = this.getEntry();\n      var classBase = this.props.isSubNode ? \"sidebar-submenu\" : \"sidebar-menu\";\n      var itemClass = classNames(\"\".concat(classBase, \"__entry\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(classBase, \"__entry--nested\"), !!this.props.children), _defineProperty(_classNames, 'open', entry && entry.open), _defineProperty(_classNames, 'active', entry && entry.active), _classNames));\n      return React.createElement(\"li\", {\n        className: classNames(itemClass, {\n          'sidebar-menu__entry--no-caret': this.props.noCaret\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(SidebarMenuItemLink, {\n        to: this.props.to || null,\n        href: this.props.href || null,\n        onToggle: this.toggleNode.bind(this),\n        classBase: classBase,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, this.props.icon && React.cloneElement(this.props.icon, {\n        className: classNames(this.props.icon.props.className, \"\".concat(classBase, \"__entry__icon\"))\n      }), typeof this.props.title === 'string' ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, this.props.title) : this.props.title), this.props.children && React.createElement(\"ul\", {\n        className: \"sidebar-submenu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.Children.map(this.props.children, function (child) {\n        return React.createElement(MenuContext.Consumer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, function (ctx) {\n          return React.cloneElement(child, _objectSpread({\n            isSubNode: true,\n            parentId: _this2.id,\n            currentUrl: _this2.props.currentUrl,\n            slim: _this2.props.slim\n          }, ctx));\n        });\n      })));\n    }\n  }]);\n\n  return SidebarMenuItem;\n}(React.Component);\n\n_defineProperty(SidebarMenuItem, \"propTypes\", {\n  // MenuContext props\n  addEntry: PropTypes.func,\n  updateEntry: PropTypes.func,\n  removeEntry: PropTypes.func,\n  entries: PropTypes.object,\n  // Provided props\n  parentId: PropTypes.string,\n  children: PropTypes.node,\n  isSubNode: PropTypes.bool,\n  currentUrl: PropTypes.string,\n  slim: PropTypes.bool,\n  // User props\n  icon: PropTypes.node,\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  to: PropTypes.string,\n  href: PropTypes.string,\n  exact: PropTypes.bool,\n  noCaret: PropTypes.bool\n});\n\n_defineProperty(SidebarMenuItem, \"defaultProps\", {\n  exact: true\n});","map":{"version":3,"sources":["/Users/crocslut/Desktop/Git/zpc/components/SidebarMenu/SidebarMenuItem.js"],"names":["React","PropTypes","classNames","uuid","Link","MenuContext","SidebarMenuItemLink","props","to","href","classBase","children","onToggle","propTypes","string","active","bool","func","node","SidebarMenuItem","id","entry","parentId","exact","url","addEntry","removeEntry","entries","getEntry","updateEntry","open","isSubNode","itemClass","noCaret","toggleNode","bind","icon","cloneElement","className","title","Children","map","child","ctx","currentUrl","slim","Component","object","oneOfType"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport uuid from 'uuid/v4';\n\nimport Link from './../Link';\nimport { MenuContext } from './MenuContext';\n\n/**\n * Renders a collapse trigger or a ReactRouter Link \n */\nconst SidebarMenuItemLink = (props) => (\n    (props.to || props.href) ? (\n        props.to ? (\n            <Link to={ props.to } className={`${props.classBase}__entry__link`}>\n                { props.children }\n            </Link>\n        ) : (\n            <a\n                href={ props.href }\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className={`${props.classBase}__entry__link`}\n            >\n                { props.children }\n            </a>\n        )\n        \n    ) : (\n        <a\n            href=\"javascript:;\"\n            className={`${props.classBase}__entry__link`}\n            onClick={ () => props.onToggle() }\n        >\n            { props.children }\n        </a>\n    )\n)\nSidebarMenuItemLink.propTypes = {\n    to: PropTypes.string,\n    href: PropTypes.string,\n    active: PropTypes.bool,\n    onToggle: PropTypes.func,\n    children: PropTypes.node,\n    classBase: PropTypes.string\n}\n\n/**\n * The main menu entry component\n */\nexport class SidebarMenuItem extends React.Component {\n    static propTypes = {\n        // MenuContext props\n        addEntry: PropTypes.func,\n        updateEntry: PropTypes.func,\n        removeEntry: PropTypes.func,\n        entries: PropTypes.object,\n        // Provided props\n        parentId: PropTypes.string,\n        children: PropTypes.node,\n        isSubNode: PropTypes.bool,\n        currentUrl: PropTypes.string,\n        slim: PropTypes.bool,\n        // User props\n        icon: PropTypes.node,\n        title: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.node\n        ]),\n        to: PropTypes.string,\n        href: PropTypes.string,\n        exact: PropTypes.bool,\n        noCaret: PropTypes.bool,\n    }\n\n    static defaultProps = {\n        exact: true\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.id = uuid();\n    }\n\n    componentDidMount() {\n        const entry = {\n            id: this.id,\n            parentId: this.props.parentId,\n            exact: !!this.props.exact\n        };\n        \n        if (this.props.to) {\n            entry.url = this.props.to;\n        }\n\n        this.props.addEntry(entry);\n    }\n\n    componentWillUnmount() {\n        this.props.removeEntry(this.id);\n    }\n\n    getEntry() {\n        return this.props.entries[this.id];\n    }\n\n    toggleNode() {\n        const entry = this.getEntry();\n\n        this.props.updateEntry(this.id, { open: !entry.open });\n    }\n\n    render() {\n        const entry = this.getEntry();\n        const classBase = this.props.isSubNode ? \"sidebar-submenu\" : \"sidebar-menu\";\n        const itemClass = classNames(`${classBase}__entry`, {\n            [`${classBase}__entry--nested`]: !!this.props.children,\n            'open': entry && entry.open,\n            'active': entry && entry.active\n        });\n\n        return (\n            <li\n                className={classNames(itemClass, {\n                    'sidebar-menu__entry--no-caret': this.props.noCaret,\n                })}\n            >\n                <SidebarMenuItemLink\n                    to={ this.props.to || null }\n                    href={ this.props.href || null }\n                    onToggle={ this.toggleNode.bind(this) }\n                    classBase={ classBase }\n                >\n                    {\n                        this.props.icon && React.cloneElement(this.props.icon, {\n                            className: classNames(\n                                this.props.icon.props.className,\n                                `${classBase}__entry__icon`\n                            )\n                        })\n                    }\n                    {\n                        typeof this.props.title === 'string' ?\n                            <span>{ this.props.title }</span> :\n                            this.props.title\n                    }\n                </SidebarMenuItemLink>\n                {\n                    this.props.children && (\n                        <ul className=\"sidebar-submenu\">\n                        {\n                            React.Children.map(this.props.children, (child) => (\n                                <MenuContext.Consumer>\n                                {\n                                    (ctx) => React.cloneElement(child, {\n                                        isSubNode: true,\n                                        parentId: this.id,\n                                        currentUrl: this.props.currentUrl,\n                                        slim: this.props.slim,\n                                        ...ctx\n                                    })\n                                }\n                                </MenuContext.Consumer>\n                            ))\n                        }\n                        </ul>\n                    )\n                }\n            </li>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}